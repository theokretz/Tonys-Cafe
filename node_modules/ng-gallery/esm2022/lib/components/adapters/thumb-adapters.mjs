import { ThumbnailsView } from '../../models/constants';
import { HorizontalCommonAdapter, VerticalCommonAdapter } from './common-adapter';
export class HorizontalThumbAdapter extends HorizontalCommonAdapter {
    get thumbSize() {
        return this.config.thumbWidth;
    }
    get isContentLessThanContainer() {
        return this.slider.clientWidth >= this.slider.firstElementChild.clientWidth;
    }
    constructor(slider, config) {
        super(slider, config);
        this.slider = slider;
        this.config = config;
    }
    getCentralisedScrollToValue(el, behavior, thumbView) {
        let position = el.offsetLeft;
        if (thumbView === ThumbnailsView.Default) {
            position -= (this.clientSize / 2) - (el.clientWidth / 2);
        }
        return {
            start: position,
            duration: behavior === 'smooth' ? this.config.slidingDuration : 0,
            easing: this.config.slidingEase
        };
    }
    getScrollToValue(el, behavior) {
        let position = el.offsetLeft - ((this.clientSize - el.clientWidth) / 2);
        return {
            start: position,
            duration: behavior === 'smooth' ? this.config.slidingDuration : 0,
            easing: this.config.slidingEase
        };
    }
    getCentralizerStartSize() {
        if (this.isContentLessThanContainer) {
            const size = this.clientSize - this.slider.firstElementChild.clientWidth;
            return size / 2;
        }
        return (this.clientSize / 2) - (this.slider.firstElementChild.firstElementChild?.clientWidth / 2);
    }
    getCentralizerEndSize() {
        if (this.isContentLessThanContainer) {
            const size = this.clientSize - this.slider.firstElementChild.clientWidth;
            return size / 2;
        }
        return (this.clientSize / 2) - (this.slider.firstElementChild.lastElementChild?.clientWidth / 2);
    }
}
export class VerticalThumbAdapter extends VerticalCommonAdapter {
    get thumbSize() {
        return this.config.thumbHeight;
    }
    get isContentLessThanContainer() {
        return this.slider.clientHeight >= this.slider.firstElementChild.clientHeight;
    }
    constructor(slider, config) {
        super(slider, config);
        this.slider = slider;
        this.config = config;
    }
    getCentralisedScrollToValue(el, behavior, thumbView) {
        let position = el.offsetTop;
        if (thumbView === ThumbnailsView.Default) {
            position -= (this.clientSize / 2) - (el.clientHeight / 2);
        }
        return {
            top: position,
            duration: behavior === 'smooth' ? this.config.slidingDuration : 0,
            easing: this.config.slidingEase
        };
    }
    getScrollToValue(el, behavior) {
        const position = el.offsetTop - ((this.clientSize - el.clientHeight) / 2);
        return {
            top: position,
            duration: behavior === 'smooth' ? this.config.slidingDuration : 0,
            easing: this.config.slidingEase
        };
    }
    getCentralizerStartSize() {
        if (this.isContentLessThanContainer) {
            const size = this.clientSize - this.slider.firstElementChild.clientHeight;
            return size / 2;
        }
        return (this.clientSize / 2) - (this.slider.firstElementChild.firstElementChild?.clientHeight / 2);
    }
    getCentralizerEndSize() {
        if (this.isContentLessThanContainer) {
            const size = this.clientSize - this.slider.firstElementChild.clientHeight;
            return size / 2;
        }
        return (this.clientSize / 2) - (this.slider.firstElementChild.lastElementChild?.clientHeight / 2);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGh1bWItYWRhcHRlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZy1nYWxsZXJ5L3NyYy9saWIvY29tcG9uZW50cy9hZGFwdGVycy90aHVtYi1hZGFwdGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFeEQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLHFCQUFxQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFJbEYsTUFBTSxPQUFPLHNCQUF1QixTQUFRLHVCQUF1QjtJQUVqRSxJQUFJLFNBQVM7UUFDWCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxJQUFJLDBCQUEwQjtRQUM1QixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDO0lBQzlFLENBQUM7SUFFRCxZQUFtQixNQUFtQixFQUFTLE1BQXFCO1FBQ2xFLEtBQUssQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFETCxXQUFNLEdBQU4sTUFBTSxDQUFhO1FBQVMsV0FBTSxHQUFOLE1BQU0sQ0FBZTtJQUVwRSxDQUFDO0lBRUQsMkJBQTJCLENBQUMsRUFBZSxFQUFFLFFBQXdCLEVBQUUsU0FBZ0M7UUFDckcsSUFBSSxRQUFRLEdBQVcsRUFBRSxDQUFDLFVBQVUsQ0FBQztRQUNyQyxJQUFJLFNBQVMsS0FBSyxjQUFjLENBQUMsT0FBTyxFQUFFO1lBQ3hDLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQzFEO1FBQ0QsT0FBTztZQUNMLEtBQUssRUFBRSxRQUFRO1lBQ2YsUUFBUSxFQUFFLFFBQVEsS0FB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QUFFLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNwRyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHYWxsZXJ5Q29uZmlnIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2NvbmZpZy5tb2RlbCc7XHJcbmltcG9ydCB7IFRodW1ibmFpbHNWaWV3IH0gZnJvbSAnLi4vLi4vbW9kZWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IFRodW1iU2xpZGVyQWRhcHRlciB9IGZyb20gJy4vYmFzZS1hZGFwdGVyJztcclxuaW1wb3J0IHsgSG9yaXpvbnRhbENvbW1vbkFkYXB0ZXIsIFZlcnRpY2FsQ29tbW9uQWRhcHRlciB9IGZyb20gJy4vY29tbW9uLWFkYXB0ZXInO1xyXG5pbXBvcnQgeyBTbW9vdGhTY3JvbGxUb09wdGlvbnMgfSBmcm9tICcuLi8uLi9zbW9vdGgtc2Nyb2xsJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgSG9yaXpvbnRhbFRodW1iQWRhcHRlciBleHRlbmRzIEhvcml6b250YWxDb21tb25BZGFwdGVyIGltcGxlbWVudHMgVGh1bWJTbGlkZXJBZGFwdGVyIHtcclxuXHJcbiAgZ2V0IHRodW1iU2l6ZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnRodW1iV2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXQgaXNDb250ZW50TGVzc1RoYW5Db250YWluZXIoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5zbGlkZXIuY2xpZW50V2lkdGggPj0gdGhpcy5zbGlkZXIuZmlyc3RFbGVtZW50Q2hpbGQuY2xpZW50V2lkdGg7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2xpZGVyOiBIVE1MRWxlbWVudCwgcHVibGljIGNvbmZpZzogR2FsbGVyeUNvbmZpZykge1xyXG4gICAgc3VwZXIoc2xpZGVyLCBjb25maWcpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2VudHJhbGlzZWRTY3JvbGxUb1ZhbHVlKGVsOiBIVE1MRWxlbWVudCwgYmVoYXZpb3I6IFNjcm9sbEJlaGF2aW9yLCB0aHVtYlZpZXc6ICdkZWZhdWx0JyB8ICdjb250YWluJyk6IFNtb290aFNjcm9sbFRvT3B0aW9ucyB7XHJcbiAgICBsZXQgcG9zaXRpb246IG51bWJlciA9IGVsLm9mZnNldExlZnQ7XHJcbiAgICBpZiAodGh1bWJWaWV3ID09PSBUaHVtYm5haWxzVmlldy5EZWZhdWx0KSB7XHJcbiAgICAgIHBvc2l0aW9uIC09ICh0aGlzLmNsaWVudFNpemUgLyAyKSAtIChlbC5jbGllbnRXaWR0aCAvIDIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3RhcnQ6IHBvc2l0aW9uLFxyXG4gICAgICBkdXJhdGlvbjogYmVoYXZpb3IgPT09ICdzbW9vdGgnID8gdGhpcy5jb25maWcuc2xpZGluZ0R1cmF0aW9uIDogMCxcclxuICAgICAgZWFzaW5nOiB0aGlzLmNvbmZpZy5zbGlkaW5nRWFzZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGdldFNjcm9sbFRvVmFsdWUoZWw6IEhUTUxFbGVtZW50LCBiZWhhdmlvcjogU2Nyb2xsQmVoYXZpb3IpOiBTbW9vdGhTY3JvbGxUb09wdGlvbnMge1xyXG4gICAgbGV0IHBvc2l0aW9uID0gZWwub2Zmc2V0TGVmdCAtICgodGhpcy5jbGllbnRTaXplIC0gZWwuY2xpZW50V2lkdGgpIC8gMik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdGFydDogcG9zaXRpb24sXHJcbiAgICAgIGR1cmF0aW9uOiBiZWhhdmlvciA9PT0gJ3Ntb290aCcgPyB0aGlzLmNvbmZpZy5zbGlkaW5nRHVyYXRpb24gOiAwLFxyXG4gICAgICBlYXNpbmc6IHRoaXMuY29uZmlnLnNsaWRpbmdFYXNlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2VudHJhbGl6ZXJTdGFydFNpemUoKTogbnVtYmVyIHtcclxuICAgIGlmICh0aGlzLmlzQ29udGVudExlc3NUaGFuQ29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmNsaWVudFNpemUgLSB0aGlzLnNsaWRlci5maXJzdEVsZW1lbnRDaGlsZC5jbGllbnRXaWR0aDtcclxuICAgICAgcmV0dXJuIHNpemUgLyAyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICh0aGlzLmNsaWVudFNpemUgLyAyKSAtICh0aGlzLnNsaWRlci5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZD8uY2xpZW50V2lkdGggLyAyKTtcclxuICB9XHJcblxyXG4gIGdldENlbnRyYWxpemVyRW5kU2l6ZSgpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuaXNDb250ZW50TGVzc1RoYW5Db250YWluZXIpIHtcclxuICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuY2xpZW50U2l6ZSAtIHRoaXMuc2xpZGVyLmZpcnN0RWxlbWVudENoaWxkLmNsaWVudFdpZHRoO1xyXG4gICAgICByZXR1cm4gc2l6ZSAvIDI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKHRoaXMuY2xpZW50U2l6ZSAvIDIpIC0gKHRoaXMuc2xpZGVyLmZpcnN0RWxlbWVudENoaWxkLmxhc3RFbGVtZW50Q2hpbGQ/LmNsaWVudFdpZHRoIC8gMik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVmVydGljYWxUaHVtYkFkYXB0ZXIgZXh0ZW5kcyBWZXJ0aWNhbENvbW1vbkFkYXB0ZXIgaW1wbGVtZW50cyBUaHVtYlNsaWRlckFkYXB0ZXIge1xyXG5cclxuICBnZXQgdGh1bWJTaXplKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jb25maWcudGh1bWJIZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBnZXQgaXNDb250ZW50TGVzc1RoYW5Db250YWluZXIoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5zbGlkZXIuY2xpZW50SGVpZ2h0ID49IHRoaXMuc2xpZGVyLmZpcnN0RWxlbWVudENoaWxkLmNsaWVudEhlaWdodDtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzbGlkZXI6IEhUTUxFbGVtZW50LCBwdWJsaWMgY29uZmlnOiBHYWxsZXJ5Q29uZmlnKSB7XHJcbiAgICBzdXBlcihzbGlkZXIsIGNvbmZpZyk7XHJcbiAgfVxyXG5cclxuICBnZXRDZW50cmFsaXNlZFNjcm9sbFRvVmFsdWUoZWw6IEhUTUxFbGVtZW50LCBiZWhhdmlvcjogU2Nyb2xsQmVoYXZpb3IsIHRodW1iVmlldzogJ2RlZmF1bHQnIHwgJ2NvbnRhaW4nKTogU21vb3RoU2Nyb2xsVG9PcHRpb25zIHtcclxuICAgIGxldCBwb3NpdGlvbjogbnVtYmVyID0gZWwub2Zmc2V0VG9wO1xyXG4gICAgaWYgKHRodW1iVmlldyA9PT0gVGh1bWJuYWlsc1ZpZXcuRGVmYXVsdCkge1xyXG4gICAgICBwb3NpdGlvbiAtPSAodGhpcy5jbGllbnRTaXplIC8gMikgLSAoZWwuY2xpZW50SGVpZ2h0IC8gMik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3A6IHBvc2l0aW9uLFxyXG4gICAgICBkdXJhdGlvbjogYmVoYXZpb3IgPT09ICdzbW9vdGgnID8gdGhpcy5jb25maWcuc2xpZGluZ0R1cmF0aW9uIDogMCxcclxuICAgICAgZWFzaW5nOiB0aGlzLmNvbmZpZy5zbGlkaW5nRWFzZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGdldFNjcm9sbFRvVmFsdWUoZWw6IEhUTUxFbGVtZW50LCBiZWhhdmlvcjogU2Nyb2xsQmVoYXZpb3IpOiBTbW9vdGhTY3JvbGxUb09wdGlvbnMge1xyXG4gICAgY29uc3QgcG9zaXRpb24gPSBlbC5vZmZzZXRUb3AgLSAoKHRoaXMuY2xpZW50U2l6ZSAtIGVsLmNsaWVudEhlaWdodCkgLyAyKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvcDogcG9zaXRpb24sXHJcbiAgICAgIGR1cmF0aW9uOiBiZWhhdmlvciA9PT0gJ3Ntb290aCcgPyB0aGlzLmNvbmZpZy5zbGlkaW5nRHVyYXRpb24gOiAwLFxyXG4gICAgICBlYXNpbmc6IHRoaXMuY29uZmlnLnNsaWRpbmdFYXNlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2VudHJhbGl6ZXJTdGFydFNpemUoKTogbnVtYmVyIHtcclxuICAgIGlmICh0aGlzLmlzQ29udGVudExlc3NUaGFuQ29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmNsaWVudFNpemUgLSB0aGlzLnNsaWRlci5maXJzdEVsZW1lbnRDaGlsZC5jbGllbnRIZWlnaHQ7XHJcbiAgICAgIHJldHVybiBzaXplIC8gMjtcclxuICAgIH1cclxuICAgIHJldHVybiAodGhpcy5jbGllbnRTaXplIC8gMikgLSAodGhpcy5zbGlkZXIuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQ/LmNsaWVudEhlaWdodCAvIDIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2VudHJhbGl6ZXJFbmRTaXplKCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5pc0NvbnRlbnRMZXNzVGhhbkNvbnRhaW5lcikge1xyXG4gICAgICBjb25zdCBzaXplID0gdGhpcy5jbGllbnRTaXplIC0gdGhpcy5zbGlkZXIuZmlyc3RFbGVtZW50Q2hpbGQuY2xpZW50SGVpZ2h0O1xyXG4gICAgICByZXR1cm4gc2l6ZSAvIDI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKHRoaXMuY2xpZW50U2l6ZSAvIDIpIC0gKHRoaXMuc2xpZGVyLmZpcnN0RWxlbWVudENoaWxkLmxhc3RFbGVtZW50Q2hpbGQ/LmNsaWVudEhlaWdodCAvIDIpO1xyXG4gIH1cclxufVxyXG4iXX0=